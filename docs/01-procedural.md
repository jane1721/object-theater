# 📄 01 - 절차지향 구조 구현 및 테스트

> 모든 로직을 `Theater` 안에 몰아넣은 절차지향 스타일 구현  
> 
> 객체가 상태만 가지고, 행위는 외부에 의존하는 구조를 관찰하며  
> 추후 객체지향 구조로의 리팩토링 방향을 모색한다.

---

## 목적

- **절차지향 방식**으로 극장 예제 구현
- 모든 비즈니스 로직이 `Theater` 클래스에 몰린 구조를 통해
    - 유지보수 어려움
    - 변경에 취약함
    - 객체 간 협력 부재
- → 이를 바탕으로 객체지향 리팩토링의 필요성과 방향을 확인함

---

## 클래스 구성

```
procedural
 ├── Audience.java
 ├── Bag.java
 ├── Invitation.java
 ├── Ticket.java
 ├── TicketOffice.java
 ├── TicketSeller.java
 └── Theater.java ← 모든 로직이 몰림
```

| 클래스            | 설명                                             |
|----------------|------------------------------------------------|
| `Audience`     | 관람객. 내부에 `Bag`을 가지고 있으나, 입장과 관련된 행위는 없음        |
| `Bag`          | 초대권, 현금, 티켓을 보관하는 단순한 값 객체                     |
| `Invitation`   | 초대권 정보를 담는 단순 객체. 현재는 사용 여부만 판단                |
| `Ticket`       | 티켓 가격 정보를 담는 단순한 값 객체                          |
| `TicketOffice` | 티켓과 금액을 보유. 실제 판매 로직은 없음                       |
| `TicketSeller` | 티켓 오피스를 가지고 있는 사람. 절차지향 구조에서는 역할이 거의 없음        |
| `Theater`      | 입장 로직의 모든 책임을 가짐. 상태 검사, 금액 처리, 티켓 전달까지 모두 포함됨 |

---

## 문제점 요약

- **단일 클래스 집중**: 모든 입장 로직이 `Theater`에 집중되어 응집도가 낮고 결합도는 높음
- **확장 어려움**: 가격 정책, 할인 조건 등 변경이 필요할 경우 `Theater`만 수정해야 함
- **객체 무기력화**: 대부분의 클래스가 상태만 가진 수동적 데이터 구조로 전락
- **협력 부재**: 객체 간 메시지 전달이 아닌, 외부에서 객체 상태를 직접 조작함

---

## Commit List
- [✨Feat: 절차지향 방식의 극장 입장 로직 구현 (Bad example)](https://github.com/jane1721/object-theater/commit/53f6f2a)
- [✅Test: 절차지향 구조 기반 입장 테스트 작성](https://github.com/jane1721/object-theater/commit/b5f00ef)

---

## 다음 단계

- `objectmodel` 패키지로 구조 리팩토링
- 각 객체가 자신이 맡은 책임을 가지도록 협력 구조로 변경
- 테스트를 기반으로 단계적 변경